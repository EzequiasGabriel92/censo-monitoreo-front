"use strict";(self.webpackChunkcenso_monitoreo_front=self.webpackChunkcenso_monitoreo_front||[]).push([[637],{9637:(q,u,a)=>{a.r(u),a.d(u,{LoginModule:()=>h});var d=a(9808),l=a(4032),r=a(2382),e=a(1223),m=a(9305);const c=function(){return["/register"]};function p(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",2)(1,"h3",3),e._uU(2,"Registro inicial de usuario"),e.qZA(),e.TgZ(3,"form",4)(4,"div",5)(5,"label",6),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",5)(9,"label",6),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",5)(13,"label",6),e._uU(14,"C\xe9dula de identidad"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18,"Apellidos"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",5)(21,"label",6),e._uU(22,"Nombres"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",5)(25,"label",6),e._uU(26,"Municipio"),e.qZA(),e._UZ(27,"input",12),e.qZA(),e.TgZ(28,"div",5)(29,"label",6),e._uU(30,"Localidad"),e.qZA(),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"div",5)(33,"label",6),e._uU(34,"Direccion"),e.qZA(),e._UZ(35,"input",14),e.qZA(),e.TgZ(36,"div",5)(37,"label",6),e._uU(38,"Telefono fijo"),e.qZA(),e._UZ(39,"input",15),e.qZA(),e.TgZ(40,"div",5)(41,"label",6),e._uU(42,"Telefono Celular"),e.qZA(),e._UZ(43,"input",16),e.qZA(),e.TgZ(44,"div",17)(45,"button",18),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.registerUser())}),e._uU(46,"Registrar usuario"),e.qZA()()()()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("formGroup",o.form_register_user)}}function f(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",2)(1,"h3",3),e._uU(2,"Registro inicial de administrador"),e.qZA(),e.TgZ(3,"form",4)(4,"div",5)(5,"label",6),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",5)(9,"label",6),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",5)(13,"label",6),e._uU(14,"C\xe9dula de identidad"),e.qZA(),e._UZ(15,"input",19),e.qZA(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18,"Apellidos"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",5)(21,"label",6),e._uU(22,"Nombres"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.registerUserAdmin())}),e._uU(26,"Registrar administrador"),e.qZA()()()()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("formGroup",o.form_register_admin)}}const Z=[{path:"",component:(()=>{class t{constructor(o,i,s){this.fb=o,this.requestService=i,this.router=s}ngOnInit(){this.createForm()}createForm(){this.formLogin=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]})}get f(){return this.formLogin}saveUser(){this.formLogin.valid&&this.getAllUser()}saveUserAdmin(){this.formLogin.valid&&this.getAllUserAdmins()}getAllUserAdmins(){this.requestService.get("admins").subscribe(o=>{o&&(0==o.length&&window.alert("No existen usuarios registrados"),o.forEach(i=>{i.email==this.formLogin.controls.email.value&&i.password==this.formLogin.controls.password.value?(localStorage.setItem("admins",JSON.stringify(i)),this.router.navigate(["dashboard"])):window.alert("El email o el password es equivocado")}))},o=>{window.alert(o.message),console.log(o)})}getAllUser(){this.requestService.get("users").subscribe(o=>{o&&(0==o.length&&window.alert("No existen usuarios registrados"),o.forEach(i=>{i.email==this.formLogin.controls.email.value&&i.password==this.formLogin.controls.password.value?(localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["user"])):window.alert("El email o el password es equivocado")}))},o=>{console.log(o),window.alert(o.message)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.s),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:24,vars:7,consts:[[1,"container","my-5","m-auto"],[1,"row"],[1,"col-12"],[1,"text-primary","text-center"],["action","",1,"form-row",3,"formGroup"],["for",""],["type","email","placeholder","Ingrese su correo el\xe9ctronico","formControlName","email",1,"form-control","my-3"],["type","password","placeholder","Ingrese su contrase\xf1a","formControlName","password",1,"form-control","my-3"],[1,"text-center","d-block","my-3"],["type","submit",1,"btn","btn-primary","text-center","btn-lg",3,"disabled","click"],[1,"col-12","my-3","text-center"],["routerLinkActive","router-link-active","href","#",1,"link-info","link","text-decoration-none",3,"routerLink"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Inicia Session"),e.qZA(),e.TgZ(5,"form",4)(6,"label",5),e._uU(7,"Email"),e.qZA(),e._UZ(8,"input",6),e.TgZ(9,"label",5),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return i.saveUser()}),e._uU(14,"Ingresa como Usuario"),e.qZA()(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){return i.saveUserAdmin()}),e._uU(17,"Ingresa como Administrador"),e.qZA()()(),e.TgZ(18,"div",10)(19,"a",11),e._uU(20,"Registrar"),e.qZA()(),e.TgZ(21,"div",10)(22,"a",11),e._uU(23,"Registrar administrador"),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("formGroup",i.formLogin),e.xp6(8),e.Q6J("disabled",!i.f.valid),e.xp6(3),e.Q6J("disabled",!i.f.valid),e.xp6(3),e.Q6J("routerLink",e.DdM(5,c)),e.xp6(3),e.Q6J("routerLink",e.DdM(6,c)))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,l.yS,l.Od]}),t})()},{path:"register",component:(()=>{class t{constructor(o,i,s){this.fb=o,this.requestService=i,this.router=s,this.view_tab="user"}ngOnInit(){this.createFormUser(),this.createFormAdmin()}createFormUser(){this.form_register_user=this.fb.group({email:["",[r.kI.required]],password:["",[r.kI.required]],cedula:["",[r.kI.required]],lastnames:["",[r.kI.required]],names:["",[r.kI.required]],municipio:["",[r.kI.required]],localidad:["",[r.kI.required]],direccion:["",[r.kI.required]],phone:["",[r.kI.required]],phone_fijo:["",[r.kI.required]]})}createFormAdmin(){this.form_register_admin=this.fb.group({email:["",[r.kI.required]],password:["",[r.kI.required]],cedula:["",[r.kI.required]],lastnames:["",[r.kI.required]],names:["",[r.kI.required]]})}registerUserAdmin(){this.form_register_admin.valid&&this.requestService.post("admins",this.form_register_admin.value).subscribe(i=>{window.alert("Usuario Creado"),this.router.navigate([""])},i=>{window.alert(i.message),console.log(i)})}registerUser(){if(this.form_register_user.valid){const o=this.form_register_user.value;o.virus="No aplica",o.atendido="No",o.s\u00edntomas="No",this.requestService.post("users",o).subscribe(i=>{window.alert("Usuario Creado"),this.router.navigate([""])},i=>{window.alert(i.message),console.log(i)})}else window.alert("Todos los campos son obligatorios")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.s),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:3,vars:2,consts:[[1,"container","my-5","m-auto"],["class","row",4,"ngIf"],[1,"row"],[1,"text-primary","text-center"],["action","",1,"form-row","row",3,"formGroup"],[1,"col-12","col-lg-3"],["for",""],["type","email","placeholder","Ingrese su correo el\xe9ctronico","formControlName","email",1,"form-control","my-3"],["type","password","placeholder","Ingrese su contrase\xf1a","formControlName","password",1,"form-control","my-3"],["type","text","placeholder","Ingrese su documento","formControlName","cedula",1,"form-control","my-3"],["type","text","placeholder","Ingrese sus apellidos","formControlName","lastnames",1,"form-control","my-3"],["type","text","placeholder","Ingrese sus nombres","formControlName","names",1,"form-control","my-3"],["type","text","placeholder","Ingrese su Municipio de residencia","formControlName","municipio",1,"form-control","my-3"],["type","text","placeholder","Ingrese su localidad","formControlName","localidad",1,"form-control","my-3"],["type","text","placeholder","Ingrese su direccion","formControlName","direccion",1,"form-control","my-3"],["type","text","placeholder","Ingrese su telefono fijo","formControlName","phone_fijo",1,"form-control","my-3"],["type","text","placeholder","Ingrese su telefono celular","formControlName","phone",1,"form-control","my-3"],[1,"text-center","my-3"],["type","submit",1,"btn","btn-primary","text-center","btn-lg",3,"click"],["type","text","placeholder","Ingrese su docuemnto","formControlName","cedula",1,"form-control","my-3"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.YNc(1,p,47,1,"div",1),e.YNc(2,f,27,1,"div",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf","user"===i.view_tab),e.xp6(1),e.Q6J("ngIf","admin"===i.view_tab))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),t})();var v=a(4349);let h=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,v.m,r.UX,r.u5,_]}),t})()}}]);